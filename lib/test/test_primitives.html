<html>

<head>
  <script src="..\obj.js"></script>
  <script src="..\canvas.js"></script>
  <script src="..\calc.js"></script>
  <script src="..\const.js"></script>
  <script src="..\primitives.js"></script>
  <script src="..\shapes.js"></script>
  <!-- <script src="..\MouseTouchTracker.js"></script> -->

  <script src="..\test\ut_Angles.js"></script>
  <script src="..\test\ut_Calc.js"></script>
  <script src="..\test\ut_Shapes.js"></script>
</head>

<body onload="draw()">

  <div>
    Debug
    <input type="checkbox" id="debugMode" globalDebugMode>
    <!-- <label for="debugMode">Debug</label> -->
    Number of circles
    <input type="number" id="countCircle" min="2" max="120" step="10" value="0">
  </div>

  <script>
    var debugMode = document.querySelector('input[id="debugMode"]');
    debugMode.addEventListener('change', () => {
      globalDebugMode = debugMode.checked;
    })
    var countCircles = 1;
    var numCircles = document.querySelector('input[id="countCircle"]');
    numCircles.value = countCircles;
    numCircles.addEventListener('change', () => {
      countCircles = parseInt(numCircles.value);
      init();
    })
  </script>

  <canvas id="canvas" style="border: 1px solid" width="600" height="600"></canvas>

  <script>
    var canvas = document.getElementById('canvas');
    var ctx = canvas.getContext('2d');

    function draw() {
      Canvas.clearAll(ctx);
      Canvas.grid(ctx);
      
      // Text 
      var txt = new Text(10, 50, "Points", "txt1");
      txt.render(ctx);
      var p1 = new Point(10, 75);
      var t1 = '';
      if (globalDebugMode) {
        p1.draft(ctx);
        t1 = 'draft';
      }
      else {
        p1.render(ctx, 3);
        t1 = 'render';
      }
      var txt = new Text(60, 75, t1);
      txt.render(ctx);

      var txt = new Text(60, 105, "draft");
      txt.render(ctx, DRAFT_COLOR);
      var p1 = new Point(10, 105);
      p1.draft(ctx);

      // Angle
      var a1 = new Angle(1, 5);
      var x = 200;
      var y = 100;
      var r = 50;

      if (globalDebugMode)
        a1.draft(ctx, x, y, r);
      else
        a1.render(ctx, x, y, r);


      // decimal coordinates
      var y = 150;
      var x = 10;
      for (i = 0; i < 100; i++) {
        var p1 = new Point(x + i, y + i / 100);
        p1.render(ctx, 0.1);
      }
      window.requestAnimationFrame(draw);
    }
  </script>
</body>

</html>